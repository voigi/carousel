<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrousel Intuitif</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/video.js/dist/video-js.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Carrousel -->
        <section class="carousel-section">
            <div class="carousel-container">
                <div class="carousel">
                    <!-- Éléments dynamiques du carrousel -->
                </div>
                <button class="carousel-button prev" aria-label="Précédent">&#10094;</button>
                <button class="carousel-button next" aria-label="Suivant">&#10095;</button>
            </div>
        </section>

        <!-- Section pour l'ajout de médias -->
        <section class="upload-section">
            
            <h1 id="mediaTitle">Ajouter des Médias</h1>
            <div class="select-container">
                
                <label for="mediaFormat">Choisir un format :</label>
                <span class="step-icon">1</span>
                <select id="mediaFormat">
                    <option value="" disabled selected>Choisir un format</option>
                    <option value="image">Image (1200 x 627 px)</option>
                    <option value="square">Carré (1200 x 1200 px)</option>
                </select>
            </div>
            <input type="file" id="uploadFile" accept="image/*,video/*" multiple aria-label="Ajouter des fichiers">
            <button id="addMediaButton">Ajouter Médias</button>
            <button id="addCancelButton">Annuler</button>
            <p id="errorMessage" role="alert"></p>

            <div class="replace-container">
                <input type="file" id="replaceFileInput" style="display: none;" accept="image/*,video/*" multiple>
                <button id="replaceMediaButton" style="display: none;">Remplacer Média</button>
                <button id="replaceCancelButton" style="display: none;">Annuler</button>
            </div>

            <div class="auto-scroll-container">
                <label for="autoScrollSelect">Activer le défilement :</label>
                <select id="autoScrollSelect">
                    <option value="" disabled selected>Activer le défilement ?</option>
                    <option value="yes">Oui</option>
                    <option value="no">Non</option>
                </select>
            </div>
        </section>

        <!-- Modaux de confirmation -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <p>Voulez-vous vraiment supprimer ce média ?</p>
                <button id="confirmDelete">Oui</button>
                <button id="cancelDelete">Non</button>
            </div>
        </div>
<!-- Modal d'aperçu (modifié) -->
<!-- Modal d'aperçu -->
<!-- Modal d'aperçu -->
<!-- Modal d'aperçu -->
<div id="previewModal" class="modal">
    <div class="preview-header">
        <h2 id="apercu">Aperçu de la vidéo</h2>
        <button id="togglePreview" aria-label="Toggle Preview" class="toggle-button">
            <i  id="left-icon" class="fa-solid fa-angles-left"></i> 
        </button>
        
    </div>
    <div id="previewContent" class="preview-content">
        <video id="previewVideo" class="video-js" controls preload="auto" width="640" height="360">
            <source src="" type="video/mp4" />
            Votre navigateur ne supporte pas la lecture de vidéos.
        </video>

     <!-- Options d'Audio -->
     <h3>Options</h3>
     <div class="audio-upload">
         <label for="audioFile">Choisir un fond sonore :</label>
         <input type="file" id="audioFile" accept="audio/*" aria-label="Ajouter un fichier audio">
         
     </div>
     <button id="addAudioAndPreview">Ajouter l'audio</button>


        <div>
            <button id="confirmPreview"disabled>Confirmer</button>
            <button id="cancelPreview" disabled >Annuler</button>
        </div>
    </div>
</div>




        <div id="finishModal" class="modal">
            <div class="modal-content">
                <p>Avez-vous vraiment fini ?</p>
                <button id="confirmFinish">Oui</button>
                <button id="cancelFinish">Non</button>
            </div>
        </div>

        <!-- <button id="finishButton" class="finish-btn" style="display: none;">J'ai fini</button> -->
    </div>

    <script src="https://cdn.jsdelivr.net/npm/video.js/dist/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.10.0/dist/ffmpeg.min.js"></script>
    <script>
        const isMaintenanceMode = true;
        const urlParams = new URLSearchParams(window.location.search);
        const isDevAccess = urlParams.get('dev') === 'true';
        if (isMaintenanceMode && !isDevAccess) {
            window.location.href = "/maintenance.html";
        }
    </script>
    <script src="script.js"></script>
</body>
</html>

